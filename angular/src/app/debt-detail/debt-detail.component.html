<div class="min-vh-100">
  <!-- Header -->
  <header class="d-flex align-items-center gap-3 px-4 py-4">
    <button class="btn p-0 border-0 bg-transparent" (click)="onBack()">
      <ion-icon name="arrow-back-outline" class="text-white fs-5"></ion-icon>
    </button>
    <h1 class="text-white fw-bold mt-0 fs-4 text-center w-100">Detalle del reclamo</h1>
  </header>

  <main class="px-4 mb-4">
   <!-- Tarjeta 1: Resumen Principal - PREMIUM, LIMPIO e IMPACTANTE (exacto como tu captura) -->
    <div class="card-wrapper mb-4">
      <app-card-content class="p-6 text-center">
        <!-- Nombre de la tarjeta/banco -->
        <h2 class="text-white fw-bold fs-3 mb-5">{{ claim.name }}</h2>

        <!-- Badge rojo potente -->
        <div class="mb-6">
          <span 
            class="badge rounded-pill px-5 py-2 fs-7 fw-bold">
            {{ getAbuseLevelInfo().label }}
          </span>
        </div>

        <!-- Ahorro potencial - EL GRAN IMPACTO -->
        <p class="text-white-50 text-sm mb-2">Ahorro potencial si reclamás</p>
        <p class="text-success fw-bold fs-1 mb-4">
          ${{ claim.potentialSavings.toLocaleString('es-AR') }}
        </p>
        <p class="text-white-50 text-sm mb-6 max-w-md mx-auto">
          Por intereses abusivos detectados ({{ claim.currentRate }}% TEA vs {{ claim.legalRate }}% máximo razonable)
        </p>

        <!-- Botón grande y hermoso -->
        <app-glass-button 
          routerLink="/generate-letter"
          (click)="onGenerateLetter()"
          class="w-full py-4 fw-bold text-lg rounded-3xl">
          <div class="d-flex align-items-center justify-content-center gap-3">
            <ion-icon name="document-text-outline" class="fs-4"></ion-icon>
            <span>Generar carta documento automática</span>
          </div>
        </app-glass-button>
      </app-card-content>
    </div>

    <!-- Tarjeta 2: Información detallada del abuso -->
    <div class="card-wrapper mb-4">
      <app-card-content>
        <h3 class="text-white fw-bold mb-4">Análisis detallado</h3>
        
        <div class="space-y-1">
          <div class="d-flex align-items-center justify-content-between py-3">
            <span class="text-white-50">Monto original del resumen</span>
            <span class="text-white fw-medium">${{ claim.originalAmount.toLocaleString('es-AR') }}</span>
          </div>
          <div class="profile-divider"></div>
          
          <div class="d-flex align-items-center justify-content-between py-3">
            <span class="text-white-50">Tasa detectada (TEA)</span>
            <span class="text-danger fw-bold">{{ claim.currentRate }}%</span>
          </div>
          <div class="profile-divider"></div>
          
          <div class="d-flex align-items-center justify-content-between py-3">
            <span class="text-white-50">Máximo razonable (BCRA/ley)</span>
            <span class="text-success fw-medium">{{ claim.legalRate }}%</span>
          </div>
          <div class="profile-divider"></div>
          
          <div class="d-flex align-items-center justify-content-between py-3">
            <span class="text-white-50">Intereses abusivos estimados</span>
            <span class="text-danger fw-bold">${{ claim.abusiveInterest.toLocaleString('es-AR') }}</span>
          </div>
          <div class="profile-divider"></div>
          
          <div class="d-flex align-items-center justify-content-between py-3">
            <span class="text-white-50">Pago mínimo sugerido por banco</span>
            <span class="text-white fw-medium">${{ claim.minimumPayment.toLocaleString('es-AR') }}</span>
          </div>
        </div>
      </app-card-content>
    </div>

    <!-- Tarjeta 3: Historial del reclamo (reutilizando el diseño hermoso) -->
    <div class="card-wrapper mb-2">
      <app-card-content class="payment-history-card">
        <h3 class="text-white fw-bold mb-5">Progreso del reclamo</h3>
        
        <div>
          <div *ngFor="let step of claimHistory; let last = last" 
              class="payment-item d-flex align-items-start position-relative">
            
            <div class="payment-circle-container">
              <div class="payment-circle-outer" [class]="getHistoryStatusClass(step.status).circleClass">
                <div class="payment-circle-inner">
                  <ion-icon [name]="getHistoryStatusClass(step.status).icon"></ion-icon>
                </div>
              </div>
            </div>
            
            <div class="payment-details d-flex justify-content-between align-items-center w-100 mt-0">
              <div>
                <p class="text-white mb-0 fw-medium">{{ step.description }}</p>
              </div>
              <div class="payment-date text-white-50 mb-2">
                {{ step.date }}
              </div>
            </div>
          </div>
        </div>
      </app-card-content>
    </div>

    <!-- Botones de acción (mantenemos el diseño) -->
    <div class="d-flex gap-3 ">
       <app-glass-button 
      (click)="onGenerateLetter()"
      class="w-full py-4 fw-bold text-lg rounded-3xl">
      <div class="d-flex align-items-center justify-content-center gap-3">
        <ion-icon name="download-outline" class="fs-4"></ion-icon>
        <span>Descargar carta documento</span>
      </div>
    </app-glass-button>

    </div>
  </main>
</div>