<div class="min-vh-100 pb-6">
  <!-- Header -->
  <header class="d-flex align-items-center gap-3 px-4 py-4">
    <button class="btn p-0 border-0 bg-transparent" (click)="onBack()">
      <ion-icon name="arrow-back-outline" class="text-white fs-5"></ion-icon>
    </button>
    <h1 class="text-white fw-bold mt-0 fs-4 text-center w-100">Generar carta documento</h1>
  </header>

  <main class="px-4">
    <!-- Info del reclamo -->
    <app-card-content class="mb-5 p-5 text-center">
      <h3 class="text-white fw-medium mb-3">{{ claim.cardType }} - {{ claim.bankName }}</h3>
      <p class="text-success fw-bold fs-2 mb-3">
        ${{ claim.potentialSavings.toLocaleString('es-AR') }}
      </p>
      <p class="text-white-50 text-sm">
        Ahorro potencial por tasa abusiva detectada ({{ claim.currentRate }}% vs {{ claim.legalRate }}% m√°ximo razonable)
      </p>
    </app-card-content>

    <!-- Formulario de personalizaci√≥n -->
    <app-card-content class="mb-4">
      <h3 class="text-white fw-bold mb-4">Personaliz√° tu carta (Pro)</h3>

      <div class="text-center mb-4" *ngIf="!isProUser">
        <p class="text-warning fw-medium">üîí Versi√≥n Free: Carta gen√©rica sin tus datos</p>
        <p class="text-white-50 text-sm">Upgrade a Pro para carta personalizada y profesional</p>
      </div>

      <form>
        <div class="form-group">
          <app-label>Nombre completo</app-label>
          <app-input [(ngModel)]="formData.fullName" name="fullName" placeholder="Juan P√©rez" [disabled]="!isProUser"></app-input>
        </div>

        <div class="form-group mt-4">
          <app-label>DNI</app-label>
          <app-input [(ngModel)]="formData.dni" name="dni" placeholder="30.123.456" [disabled]="!isProUser"></app-input>
        </div>

        <div class="form-group mt-4">
          <app-label>Domicilio</app-label>
          <app-input [(ngModel)]="formData.address" name="address" placeholder="Av. Siempre Viva 123" [disabled]="!isProUser"></app-input>
        </div>

        <div class="form-group mt-4">
          <app-label>Ciudad y Provincia</app-label>
          <app-input [(ngModel)]="formData.city" name="city" placeholder="CABA, Buenos Aires" [disabled]="!isProUser"></app-input>
        </div>

        <div class="form-group mt-4">
          <app-label>Notas adicionales (opcional)</app-label>
          <app-textarea [(ngModel)]="formData.additionalNotes" name="notes" rows="4"
                        placeholder="Ej: Reclamo tambi√©n devoluci√≥n de punitorios aplicados en resumen de diciembre"
                        [disabled]="!isProUser"></app-textarea>
        </div>
      </form>
    </app-card-content>

    <!-- Preview y descarga -->
    <div class="space-y-4">
      <app-glass-button (click)="onGeneratePreview()" class="w-full py-3">
        Ver preview de la carta
      </app-glass-button>



      <div class="text-center text-white-50 text-xs" *ngIf="!isProUser">
        Con Pro: carta con tus datos, firma digital y formato profesional listo para Correo Argentino
      </div>
    </div>
  </main>
</div>